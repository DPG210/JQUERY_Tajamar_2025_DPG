<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Clientes XML Service 2</h1>
    <div id="containerbotones"></div>
    </hr>
    <div id="containercliente"></div>
    <script src="js/jquery-3.7.1.js"></script>
    <script>
        $(document).ready(function(){
            let url="https://apiclientesxml.azurewebsites.net/"
            let request="api/Clientes"
            $.get(url+request, function(data){
                $(data).find("Cliente").each(function(){
                    var id=$(this).find("IdCliente").text();
                    var nombre=$(this).find("Nombre").text();

                    var boton=$("<button>");
                        boton.text(nombre);
                        boton.val(id);
                        // boton.data-key(id); esto no se si funciona
                    $("#containerbotones").append(boton);
                    boton.click(function(){
                        var idcliente=$(this).val();
                        // var idcliente=$(this).data("id");
                        console.log(idcliente);
                        var request2="api/Clientes/"+idcliente;
                        $.get(url+request2,function(data){
                            var imagen=$(data).find("Imagen").text();

                            var nombre=$(data).find("Nombre").first().text();
                            var id=$(data).find("IdCliente").first().text();
                            var email=$(data).find("Email").first().text();
                            var pagweb=$(data).find("PaginaWeb").first().text();
                            
                            var html="<h1 style='color:blue'>" +pagweb + "</h1>";
                                html+="<img src='"+imagen+"'/>";
                                $("#containercliente").html(html);
                            
                        })
                    })

                })
            })
        })
    </script>
</body>
</html>